<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Crear Laptop</title>
</head>
<body>

	<h1>Crear Laptop</h1>
	
	<form 
		th:action="@{/admin/laptop/crear}" 
		th:object="${formularioCrearLaptop}" method="post" enctype="multipart/form-data">
	    <label for="nombre">Nombre:</label>
	    <input type="text" id="nombre" name="nombre" th:field="*{nombre}" required>
	    <br>
	    <label for="imagen">Imagen:</label>
	    <input type="file" id="imagen" name="imagen" accept="image/*" required onchange="previewImage(this)">
	    <br>
	    <img id="imagen-preview" src="#" alt="Imagen previa" style="display:none;">
	    <br>
	    <label for="stock">Stock:</label>
	    <input type="number" id="stock" name="stock" th:field="*{stock}" required>
	    <br>
	    <label for="precio">Precio:</label>
	    <input type="number" id="precio" name="precio" step="0.01" th:field="*{precio}" required>
	    <br>
	    <label for="descripcion">Descripción:</label>
	    <textarea id="descripcion" name="descripcion" th:field="*{descripcion}" required></textarea>
	    <br>
	    <label for="url">URL:</label>
	    <input type="text" id="url" name="url" th:field="*{url}" required>
	    <br>
	    <label for="categoria">Categoría:</label>
	    <select id="categoria" name="categoria" th:field="*{categoria}" required>
	        <option th:each="categoria : ${selectorCategorias}" 
	        th:value="${categoria.categoriaId}" th:text="${categoria.nombre}"></option>
	    </select>
	    <br>
	    <button type="submit">Crear</button>
	</form>
	
	<a href="../laptop">Volver</a>

	<script>
		function previewImage(input) {
			var preview = document.getElementById('imagen-preview');
			var file = input.files[0];
			var reader = new FileReader();
			
			reader.onload = function(e) {
				preview.src = e.target.result;
				preview.style.display = 'block';
			}
			
			reader.readAsDataURL(file);
		}
	</script>

</body>
</html>
